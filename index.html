<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>ãƒ¡ãƒ‹ãƒ¥ãƒ¼</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: "Yu Gothic UI", "Meiryo UI", sans-serif;
      margin: 0;
      padding: 0;
      background: #fff;
      overflow-y: scroll;
    }

    /* ä¸Šéƒ¨ã‚¿ã‚¤ãƒˆãƒ«ãƒãƒ¼ */
    .app-bar {
      height: 50px;
      border-bottom: 1px solid #e0e0e0;
      display: -ms-flexbox;
      display: flex;
      -ms-flex-align: center;
      align-items: center;
      -ms-flex-pack: center;
      justify-content: center;
      position: relative;
      font-size: 20px;
      font-weight: 600;
    }

    .app-bar-icon {
      position: absolute;
      right: 16px;
      /* â˜…ä¿®æ­£: ä¸Šä¸‹ã®ä½ç½®ã‚’å›ºå®šã—ã¦ä¸­å¤®æƒãˆã«ã™ã‚‹ */
      top: 0;
      bottom: 0;
      margin: auto;
      /* ----------------------------------- */
      width: 36px;
      height: 36px;
      border-radius: 50%;
      border: 2px solid #36a2dc;
      display: -ms-flexbox;
      display: flex;
      -ms-flex-align: center;
      align-items: center;
      -ms-flex-pack: center;
      justify-content: center;
      cursor: pointer;
    }

    .app-bar-icon span {
      font-size: 18px;
      color: #36a2dc;
    }

    /* è¨€èªãƒ¡ãƒ‹ãƒ¥ãƒ¼ */
    .language-menu {
      position: absolute;
      top: 52px;
      right: 16px;
      min-width: 160px;
      background: #ffffff;
      border-radius: 4px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
      padding: 8px 0;
      display: none;
      z-index: 200;
    }

    .language-menu.open {
      display: block;
    }

    .language-menu li {
      list-style: none;
      padding: 8px 16px;
      cursor: pointer;
      white-space: nowrap;
    }

    .language-menu li:hover {
      background: #f2f4f6;
    }

    .language-menu li.selected {
      font-weight: 600;
      color: #36a2dc;
    }

    ul {
      margin: 0;
      padding: 0;
    }

    /* ===== ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”»é¢ ===== */
    /* â˜…ä¿®æ­£: Flexboxã‚’ã‚„ã‚ã¦ inline-block ã§æ¨ªä¸¦ã³ã«ã™ã‚‹ï¼ˆIEã§ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å®‰å®šæ€§ã®ãŸã‚ï¼‰ */
    .tabs {
      display: block;
      overflow-x: auto;
      /* æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’è¨±å¯ */
      white-space: nowrap;
      /* æŠ˜ã‚Šè¿”ã—ç¦æ­¢ */
      border-bottom: 1px solid #e0e0e0;
      font-size: 0;
      /* inline-blockã®éš™é–“å¯¾ç­– */
    }

    .tab {
      display: inline-block;
      /* ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ãƒ–ãƒ­ãƒƒã‚¯ã§æ¨ªä¸¦ã³ */
      vertical-align: top;
      width: 33.33%;
      /* ç”»é¢å¹…ã®1/3 */
      min-width: 100px;
      /* æœ€ä½å¹…ã‚’ç¢ºä¿ï¼ˆã“ã‚Œã‚ˆã‚Šç‹­ããªã‚‹ã¨ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ç™ºç”Ÿï¼‰ */
      text-align: center;
      padding: 10px 0;
      font-size: 16px;
      /* æ–‡å­—ã‚µã‚¤ã‚ºã‚’æˆ»ã™ */
      color: #777;
      cursor: pointer;
      position: relative;
      box-sizing: border-box;
    }

    .tab.active {
      color: #0088cc;
      font-weight: 600;
    }

    .tab.active::after {
      content: "";
      position: absolute;
      left: 20%;
      right: 20%;
      bottom: 0;
      height: 3px;
      background: #0088cc;
      border-radius: 2px;
    }

    .content {
      padding: 15px;
      font-size: 18px;
    }

    .content-section {
      display: none;
    }

    .content-section.active {
      display: block;
    }

    .menu-item {
      display: -ms-flexbox;
      display: flex;
      -ms-flex-align: center;
      align-items: center;
      margin-bottom: 18px;
      cursor: pointer;
    }

    .menu-thumb {
      width: 60px;
      height: 60px;
      background: #d8d8d8;
      border-radius: 6px;
      margin-right: 16px;
      overflow: hidden;
    }

    .menu-thumb img {
      width: 100%;
      height: 100%;
      display: block;
      border-radius: inherit;
    }

    /* ===== å…±é€š ===== */
    .hidden {
      display: none !important;
    }

    /* ===== ARç”»é¢ ===== */
    .ar-screen {
      position: relative;
      height: 100vh;
      height: calc(100vh - 50px);
      background: #000;
      overflow: hidden;
    }

    .ar-bg-img {
      width: 100%;
      height: 100%;
      display: block;
    }

    .ar-controls {
      position: absolute;
      left: 0;
      right: 0;
      bottom: 16px;
      padding: 0 16px;
      display: -ms-flexbox;
      display: flex;
      -ms-flex-pack: justify;
      justify-content: space-between;
      -ms-flex-align: end;
      align-items: flex-end;
      pointer-events: none;
    }

    .back-btn,
    .option-btn {
      pointer-events: auto;
      border: none;
      outline: none;
      cursor: pointer;
      font-size: 14px;
      display: -ms-inline-flexbox;
      display: inline-flex;
      -ms-flex-align: center;
      align-items: center;
      font-family: inherit;
    }

    .back-btn {
      background: #ffffff;
      border-radius: 20px;
      padding: 8px 16px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    .option-btn {
      background: #006d80;
      color: #ffffff;
      border-radius: 20px;
      padding: 10px 18px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    .gear {
      margin-right: 6px;
    }

    .size-menu {
      position: absolute;
      left: 50%;
      bottom: 96px;
      transform: translateX(-50%);
      -ms-transform: translateX(-50%);
      min-width: 140px;
      background: #f4f7f9;
      border-radius: 4px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.25);
      padding: 10px 0;
      display: none;
      pointer-events: auto;
    }

    .size-menu.open {
      display: block;
    }

    .size-item {
      padding: 6px 16px;
      font-size: 16px;
      cursor: pointer;
    }

    .size-item:hover {
      background: #e2e6ea;
    }

    .size-item.selected {
      font-weight: 600;
      background: #d4e9ff;
    }
  </style>
</head>
<body>
  <div class="app-bar">
    <span id="title">ãƒ¡ãƒ‹ãƒ¥ãƒ¼</span>
    <div class="app-bar-icon" id="langButton"><span>ğŸŒ</span></div>
    <div class="language-menu" id="languageMenu">
      <ul>
        <li data-lang="ja" class="selected">æ—¥æœ¬èª</li>
        <li data-lang="en">English</li>
        <li data-lang="ko">í•œêµ­ì–´</li>
        <li data-lang="zh">ä¸­æ–‡</li>
        <li data-lang="fr">FranÃ§ais</li>
        <li data-lang="es">EspaÃ±ol</li>
        <li data-lang="de">Deutsch</li>
        <li data-lang="it">Italiano</li>
      </ul>
    </div>
  </div>
  <div id="menuScreen">
    <div class="tabs">
      <div class="tab active" data-target="cat1" id="tab1">éººãƒ»ã”ã¯ã‚“</div>
      <div class="tab" data-target="cat2" id="tab2">ç„¼ããƒ»æšã’ã‚‚ã®</div>
      <div class="tab" data-target="cat3" id="tab3">é‹ãƒ»æ±ç‰©</div>
      <div class="tab" data-target="cat4" id="tab4">ãƒ‡ã‚¶ãƒ¼ãƒˆ</div>
      <div class="tab" data-target="cat5" id="tab5">é£²ã¿ç‰©</div>
    </div>
    <div class="content">
      <div class="content-section active" id="cat1">
        <div class="menu-item" data-ar="Ramen.jpg">
          <div class="menu-thumb"><img src="Ramen1.jpg" alt="ãƒ©ãƒ¼ãƒ¡ãƒ³"></div>
          <div id="c1-0">ãƒ©ãƒ¼ãƒ¡ãƒ³</div>
        </div>
        <div class="menu-item" data-ar="Fried rice.jpg">
          <div class="menu-thumb"><img src="Fried rice1.jpg" alt="ãƒãƒ£ãƒ¼ãƒãƒ³"></div>
          <div id="c1-1">ãƒãƒ£ãƒ¼ãƒãƒ³</div>
        </div>
        <div class="menu-item" data-ar="Shanghai fried noodles.jpg">
          <div class="menu-thumb"><img src="Shanghai fried noodles1.jpg" alt="ä¸Šæµ·ç„¼ããã°"></div>
          <div id="c1-2">ä¸Šæµ·ç„¼ããã°</div>
        </div>
      </div>
      <div class="content-section" id="cat2">
        <div class="menu-item" data-ar="Gyoza.jpg">
          <div class="menu-thumb"><img src="Gyoza1.jpg" alt="é¤ƒå­"></div>
          <div id="c2-0">é¤ƒå­</div>
        </div>
        <div class="menu-item" data-ar="Twice-cooked pork.jpg">
          <div class="menu-thumb"><img src="Twice-cooked pork1.jpg" alt="ãƒ›ã‚¤ã‚³ãƒ¼ãƒ­ãƒ¼"></div>
          <div id="c2-1">ãƒ›ã‚¤ã‚³ãƒ¼ãƒ­ãƒ¼</div>
        </div>
        <div class="menu-item" data-ar="Shrimp in chili sauce.jpg">
          <div class="menu-thumb"><img src="Shrimp in chili sauce1.jpg" alt="ã‚¨ãƒ“ãƒãƒª"></div>
          <div id="c2-2">ã‚¨ãƒ“ãƒãƒª</div>
        </div>
      </div>
      <div class="content-section" id="cat3">
        <div class="menu-item" data-ar="Hot pot.jpg">
          <div class="menu-thumb"><img src="Hot pot1.jpg" alt="ç«é‹"></div>
          <div id="c3-0">ç«é‹</div>
        </div>
        <div class="menu-item" data-ar="Egg soup.jpg">
          <div class="menu-thumb"><img src="Egg soup1.jpg" alt="åµã‚¹ãƒ¼ãƒ—"></div>
          <div id="c3-1">åµã‚¹ãƒ¼ãƒ—</div>
        </div>
        <div class="menu-item" data-ar="Shark fin soup.jpg">
          <div class="menu-thumb"><img src="Shark fin soup1.jpg" alt="ãƒ•ã‚«ãƒ’ãƒ¬ã‚¹ãƒ¼ãƒ—"></div>
          <div id="c3-2">ãƒ•ã‚«ãƒ’ãƒ¬ã‚¹ãƒ¼ãƒ—</div>
        </div>
      </div>
      <div class="content-section" id="cat4">
        <div class="menu-item" data-ar="Almond jelly.jpg">
          <div class="menu-thumb"><img src="Almond jelly1.jpg" alt="æä»è±†è…"></div>
          <div id="c4-0">æä»è±†è…</div>
        </div>
        <div class="menu-item" data-ar="Mango pudding.jpg">
          <div class="menu-thumb"><img src="Mango pudding1.jpg" alt="ãƒãƒ³ã‚´ãƒ¼ãƒ—ãƒªãƒ³"></div>
          <div id="c4-1">ãƒãƒ³ã‚´ãƒ¼ãƒ—ãƒªãƒ³</div>
        </div>
        <div class="menu-item" data-ar="Sesame balls.jpg">
          <div class="menu-thumb"><img src="Sesame balls1.jpg" alt="ã‚´ãƒå›£å­"></div>
          <div id="c4-2">ã‚´ãƒå›£å­</div>
        </div>
      </div>
      <div class="content-section" id="cat5">
        <div class="menu-item" data-ar="Oolong tea.jpg">
          <div class="menu-thumb"><img src="Oolong tea1.jpg" alt="ã‚¦ãƒ¼ãƒ­ãƒ³èŒ¶"></div>
          <div id="c5-0">ã‚¦ãƒ¼ãƒ­ãƒ³èŒ¶</div>
        </div>
        <div class="menu-item" data-ar="Jasmine tea.jpg">
          <div class="menu-thumb"><img src="Jasmine tea1.jpg" alt="ã‚¸ãƒ£ã‚¹ãƒŸãƒ³èŒ¶"></div>
          <div id="c5-1">ã‚¸ãƒ£ã‚¹ãƒŸãƒ³èŒ¶</div>
        </div>
        <div class="menu-item" data-ar="Green tea.jpg">
          <div class="menu-thumb"><img src="Green tea1.jpg" alt="ç·‘èŒ¶"></div>
          <div id="c5-2">ç·‘èŒ¶</div>
        </div>
      </div>
    </div>
  </div>
  <div id="arScreen" class="ar-screen hidden">
    <img id="arImage" src="" alt="ARè¡¨ç¤º" class="ar-bg-img">
    <div class="ar-controls">
      <button class="back-btn" id="backButton">â† <span id="backLabel">æˆ»ã‚‹</span></button>
      <button class="option-btn" id="optionButton">
        <span class="gear">âš™ï¸</span>
        <span id="optionLabel">ã‚ªãƒ—ã‚·ãƒ§ãƒ³</span>
      </button>
      <div class="size-menu" id="sizeMenu">
        <div class="size-item selected" id="size-large">å¤§</div>
        <div class="size-item" id="size-medium">ä¸­</div>
        <div class="size-item" id="size-small">å°</div>
      </div>
    </div>
  </div>
  <script>
    /* ==== JavaScript (ES5äº’æ›) ==== */

    var translations = {
      ja: {
        title: "ãƒ¡ãƒ‹ãƒ¥ãƒ¼", arTitle: "ARè¡¨ç¤º",
        tabs: ["éººãƒ»ã”ã¯ã‚“", "ç„¼ããƒ»æšã’ã‚‚ã®", "é‹ãƒ»æ±ç‰©", "ãƒ‡ã‚¶ãƒ¼ãƒˆ", "é£²ã¿ç‰©"],
        cat1: ["ãƒ©ãƒ¼ãƒ¡ãƒ³", "ãƒãƒ£ãƒ¼ãƒãƒ³", "ä¸Šæµ·ç„¼ããã°"],
        cat2: ["é¤ƒå­", "ãƒ›ã‚¤ã‚³ãƒ¼ãƒ­ãƒ¼", "ã‚¨ãƒ“ãƒãƒª"],
        cat3: ["ç«é‹", "åµã‚¹ãƒ¼ãƒ—", "ãƒ•ã‚«ãƒ’ãƒ¬ã‚¹ãƒ¼ãƒ—"],
        cat4: ["æä»è±†è…", "ãƒãƒ³ã‚´ãƒ¼ãƒ—ãƒªãƒ³", "ã‚´ãƒå›£å­"],
        cat5: ["ã‚¦ãƒ¼ãƒ­ãƒ³èŒ¶", "ã‚¸ãƒ£ã‚¹ãƒŸãƒ³èŒ¶", "ç·‘èŒ¶"],
        back: "æˆ»ã‚‹", option: "ã‚ªãƒ—ã‚·ãƒ§ãƒ³", sizes: ["å¤§", "ä¸­", "å°"]
      },
      en: {
        title: "Menu", arTitle: "AR View",
        tabs: ["Noodles & Rice", "Grilled / Fried", "Hot Pot & Soup", "Dessert", "Drinks"],
        cat1: ["Ramen", "Fried rice", "Shanghai fried noodles"],
        cat2: ["Gyoza", "Twice-cooked pork", "Shrimp in chili sauce"],
        cat3: ["Hot pot", "Egg soup", "Shark fin soup"],
        cat4: ["Almond jelly", "Mango pudding", "Sesame balls"],
        cat5: ["Oolong tea", "Jasmine tea", "Green tea"],
        back: "Back", option: "Options", sizes: ["Large", "Medium", "Small"]
      },
      ko: {
        title: "ë©”ë‰´", arTitle: "AR ë³´ê¸°",
        tabs: ["ë©´Â·ë°¥", "êµ¬ì´Â·íŠ€ê¹€", "ì „ê³¨Â·êµ­ë¬¼", "ë””ì €íŠ¸", "ìŒë£Œ"],
        cat1: ["ë¼ë©´", "ë³¶ìŒë°¥", "ìƒí•˜ì´ ë³¶ìŒë©´"],
        cat2: ["êµì", "íšŒê³¼ìœ¡", "ì¹ ë¦¬ ìƒˆìš°"],
        cat3: ["í› ê¶ˆ", "ê³„ë€ ìˆ˜í”„", "ìƒì–´ ì§€ëŠëŸ¬ë¯¸ ìˆ˜í”„"],
        cat4: ["ì•ˆë‹Œë‘ë¶€", "ë§ê³  í‘¸ë”©", "ì°¸ê¹¨ ê²½ë‹¨"],
        cat5: ["ìš°ë¡±ì°¨", "ììŠ¤ë¯¼ ì°¨", "ë…¹ì°¨"],
        back: "ë’¤ë¡œ", option: "ì˜µì…˜", sizes: ["ëŒ€", "ì¤‘", "ì†Œ"]
      },
      zh: {
        title: "èœå•", arTitle: "ARæ˜¾ç¤º",
        tabs: ["é¢Â·é¥­", "çƒ§çƒ¤Â·æ²¹ç‚¸", "ç«é”…Â·æ±¤ç±»", "ç”œç‚¹", "é¥®æ–™"],
        cat1: ["æ‹‰é¢", "ç‚’é¥­", "ä¸Šæµ·ç‚’é¢"],
        cat2: ["é¥ºå­", "å›é”…è‚‰", "è¾£æ¤’è™¾"],
        cat3: ["ç«é”…", "é¸¡è›‹æ±¤", "é±¼ç¿…æ±¤"],
        cat4: ["æä»è±†è…", "èŠ’æœå¸ƒä¸", "èŠéº»çƒ"],
        cat5: ["ä¹Œé¾™èŒ¶", "èŒ‰è‰èŠ±èŒ¶", "ç»¿èŒ¶"],
        back: "è¿”å›", option: "é€‰é¡¹", sizes: ["å¤§", "ä¸­", "å°"]
      },
      fr: {
        title: "Menu", arTitle: "Affichage AR",
        tabs: ["Nouilles & Riz", "GrillÃ© / Frit", "Fondue & Soupe", "Dessert", "Boissons"],
        cat1: ["Ramen", "Riz sautÃ©", "Nouilles sautÃ©es de Shanghai"],
        cat2: ["Gyoza", "Porc aux deux cuissons", "Crevettes au piment"],
        cat3: ["Fondue chinoise", "Soupe aux Å“ufs", "Soupe aux ailerons de requin"],
        cat4: ["Tofu aux amandes", "Flan Ã  la mangue", "Boules au sÃ©same"],
        cat5: ["ThÃ© oolong", "ThÃ© au jasmin", "ThÃ© vert"],
        back: "Retour", option: "Options", sizes: ["Grand", "Moyen", "Petit"]
      },
      es: {
        title: "MenÃº", arTitle: "Vista AR",
        tabs: ["Fideos y Arroz", "A la parrilla / Frito", "Olla caliente y Sopa", "Postre", "Bebidas"],
        cat1: ["Ramen", "Arroz frito", "Fideos fritos de ShanghÃ¡i"],
        cat2: ["Gyoza", "Cerdo dos veces cocinado", "Camarones al chile"],
        cat3: ["Hot pot", "Sopa de huevo", "Sopa de aleta de tiburÃ³n"],
        cat4: ["Flan de almendra", "PudÃ­n de mango", "Bolas de sÃ©samo"],
        cat5: ["TÃ© oolong", "TÃ© de jazmÃ­n", "TÃ© verde"],
        back: "AtrÃ¡s", option: "Opciones", sizes: ["Grande", "Mediano", "PequeÃ±o"]
      },
      de: {
        title: "MenÃ¼", arTitle: "AR-Ansicht",
        tabs: ["Nudeln & Reis", "Gegrillt / Frittiert", "Hotpot & Suppe", "Dessert", "GetrÃ¤nke"],
        cat1: ["Ramen", "Gebratener Reis", "Shanghai-Bratnudeln"],
        cat2: ["Gyoza", "Doppelt gegarter Schweinebauch", "Garnelen in Chilisauce"],
        cat3: ["Hotpot", "Eiersuppe", "Haifischflossensuppe"],
        cat4: ["Mandelpudding", "Mango-Pudding", "SesambÃ¤llchen"],
        cat5: ["Oolong-Tee", "Jasmintee", "GrÃ¼ner Tee"],
        back: "ZurÃ¼ck", option: "Optionen", sizes: ["GroÃŸ", "Mittel", "Klein"]
      },
      it: {
        title: "MenÃ¹", arTitle: "Vista AR",
        tabs: ["Noodles e Riso", "Grigliato / Fritto", "Fonduta & Zuppe", "Dessert", "Bevande"],
        cat1: ["Ramen", "Riso fritto", "Spaghetti saltati di Shanghai"],
        cat2: ["Gyoza", "Maiale alla doppia cottura", "Gamberi al chili"],
        cat3: ["Hot pot", "Zuppa d'uovo", "Zuppa di pinna di squalo"],
        cat4: ["Budino di mandorla", "Budino al mango", "Palline di sesamo"],
        cat5: ["TÃ¨ oolong", "TÃ¨ al gelsomino", "TÃ¨ verde"],
        back: "Indietro", option: "Opzioni", sizes: ["Grande", "Medio", "Piccolo"]
      }
    };

    var currentLang = "ja";
    var isARMode = false;
    var titleEl = document.getElementById("title");

    function applyLanguage(lang) {
      var t = translations[lang];
      if (!t) return;

      titleEl.innerText = isARMode ? t.arTitle : t.title;

      var tabIds = ["tab1", "tab2", "tab3", "tab4", "tab5"];
      for (var i = 0; i < tabIds.length; i++) {
        document.getElementById(tabIds[i]).innerText = t.tabs[i];
      }

      var cats = ["c1", "c2", "c3", "c4", "c5"];
      for (var i = 0; i < cats.length; i++) {
        var prefix = cats[i];
        var items = t["cat" + (i + 1)];
        for (var j = 0; j < items.length; j++) {
          var el = document.getElementById(prefix + "-" + j);
          if (el) el.innerText = items[j];
        }
      }

      document.getElementById("backLabel").innerText = t.back;
      document.getElementById("optionLabel").innerText = t.option;
      document.getElementById("size-large").innerText = t.sizes[0];
      document.getElementById("size-medium").innerText = t.sizes[1];
      document.getElementById("size-small").innerText = t.sizes[2];
    }

    /* ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ */
    var tabsNode = document.querySelectorAll('.tab');
    var sections = document.querySelectorAll('.content-section');

    for (var i = 0; i < tabsNode.length; i++) {
      (function (idx) {
        tabsNode[idx].addEventListener('click', function () {
          var id = tabsNode[idx].getAttribute('data-target');

          for (var k = 0; k < tabsNode.length; k++) tabsNode[k].classList.remove('active');
          tabsNode[idx].classList.add('active');

          for (var k = 0; k < sections.length; k++) {
            if (sections[k].id === id) {
              sections[k].classList.add('active');
            } else {
              sections[k].classList.remove('active');
            }
          }
        });
      })(i);
    }

    /* è¨€èªãƒ¡ãƒ‹ãƒ¥ãƒ¼ */
    var langButton = document.getElementById("langButton");
    var langMenu = document.getElementById("languageMenu");
    var optionButton = document.getElementById("optionButton");
    var sizeMenu = document.getElementById("sizeMenu");

    langButton.addEventListener('click', function (e) {
      if (e.stopPropagation) e.stopPropagation();
      else e.cancelBubble = true;

      if (langMenu.classList.contains("open")) langMenu.classList.remove("open");
      else langMenu.classList.add("open");
    });

    document.addEventListener("click", function (e) {
      if (!langMenu.contains(e.target) && !langButton.contains(e.target)) {
        langMenu.classList.remove("open");
      }
      if (!sizeMenu.contains(e.target) && !optionButton.contains(e.target)) {
        sizeMenu.classList.remove("open");
      }
    });

    var langItems = langMenu.querySelectorAll("li");
    for (var i = 0; i < langItems.length; i++) {
      (function (idx) {
        langItems[idx].addEventListener("click", function () {
          for (var k = 0; k < langItems.length; k++) langItems[k].classList.remove("selected");
          langItems[idx].classList.add("selected");

          currentLang = langItems[idx].getAttribute("data-lang");
          applyLanguage(currentLang);
          langMenu.classList.remove("open");
        });
      })(i);
    }

    /* ãƒ¡ãƒ‹ãƒ¥ãƒ¼ â†’ ARç”»é¢å…±é€šå‡¦ç† */
    var menuScreen = document.getElementById("menuScreen");
    var arScreen = document.getElementById("arScreen");
    var backButton = document.getElementById("backButton");
    var arImage = document.getElementById("arImage");

    function showARScreen() {
      isARMode = true;
      menuScreen.classList.add("hidden");
      arScreen.classList.remove("hidden");
      applyLanguage(currentLang);
    }
    function showMenuScreen() {
      isARMode = false;
      arScreen.classList.add("hidden");
      menuScreen.classList.remove("hidden");
      applyLanguage(currentLang);
    }

    var menuItems = document.querySelectorAll(".menu-item");
    for (var i = 0; i < menuItems.length; i++) {
      (function (idx) {
        menuItems[idx].addEventListener("click", function () {
          var imgFile = menuItems[idx].getAttribute("data-ar");
          if (imgFile) {
            arImage.src = imgFile;
            showARScreen();
          }
        });
      })(i);
    }

    backButton.addEventListener("click", showMenuScreen);

    /* ã‚ªãƒ—ã‚·ãƒ§ãƒ³ â†’ ã‚µã‚¤ã‚ºãƒ¡ãƒ‹ãƒ¥ãƒ¼ */
    var sizeItems = document.querySelectorAll(".size-item");

    optionButton.addEventListener("click", function (e) {
      if (e.stopPropagation) e.stopPropagation();
      else e.cancelBubble = true;

      if (sizeMenu.classList.contains("open")) sizeMenu.classList.remove("open");
      else sizeMenu.classList.add("open");
    });

    for (var i = 0; i < sizeItems.length; i++) {
      (function (idx) {
        sizeItems[idx].addEventListener("click", function () {
          for (var k = 0; k < sizeItems.length; k++) sizeItems[k].classList.remove("selected");
          sizeItems[idx].classList.add("selected");
        });
      })(i);
    }

    /* åˆæœŸè¨€èªé©ç”¨ */
    applyLanguage(currentLang);
  </script>
</body>
</html>